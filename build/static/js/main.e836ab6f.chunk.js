(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{104:function(e,t,a){},105:function(e,t,a){},118:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),l=a.n(o),s=(a(104),a(18)),i=(a(105),a(172)),c=a(187),u=a(173),m=a(174),d=a(169),p=a(82),h=a.n(p),f=a(175),b=a(119),g=a(176),E=a(177),v=a(81),O=a.n(v),j=a(67),y=a.n(j),w=a(171),S=a(80),k=a.n(S),x=a(193),C=a(29),N=a(28),T=a(25),I=a(42),F=a(43),A=a(14),W=a(46),D={marginTop:"10px",marginRight:"5px"},L={marginTop:"40px"},B=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(I.a)(this,Object(F.a)(t).call(this,e))).state={features:e.features},a.deleteFeature=a.deleteFeature.bind(Object(A.a)(a)),a}return Object(W.a)(t,e),Object(T.a)(t,[{key:"deleteFeature",value:function(e){for(var t=Object(C.a)(this.state.features),a=0;a<this.state.features.length;a++)this.state.features[a]===e&&(t.splice(a,1),this.setState({features:t}),this.props.onSelection(t))}},{key:"render",value:function(){for(var e=[],t=0;t<this.state.features.length;t++)e.push(r.a.createElement(x.a,{variant:"outlined",style:D,key:t,label:this.state.features[t],color:"primary",onDelete:this.deleteFeature.bind(this,this.state.features[t])}));return r.a.createElement("div",null,r.a.createElement("h3",{style:L},"Selected features"),e)}}]),t}(n.Component),H=a(4),P=a(190),R=a(164),z=a(165),q=a(183),J=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(I.a)(this,Object(F.a)(t).call(this,e))).state={target:e.target,features:e.features},a.handleChange=a.handleChange.bind(Object(A.a)(a)),a}return Object(W.a)(t,e),Object(T.a)(t,[{key:"handleChange",value:function(e){this.setState({target:e.target.value}),this.props.onSelection(e.target.value)}},{key:"render",value:function(){for(var e=this.props.classes,t=[],a=0;a<this.state.features.length;a++){var n=this.state.features[a];t.push(r.a.createElement(R.a,{key:a,value:n},n))}return r.a.createElement("div",null,r.a.createElement("h3",{className:e.selectionHeader},"Select the target"),r.a.createElement(z.a,{variant:"outlined",className:e.formControl},r.a.createElement(P.a,{ref:this.inputLabel,id:"demo-simple -select-outlined-label"}),r.a.createElement(q.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:this.state.target,onChange:this.handleChange,labelWidth:0},t)))}}]),t}(n.Component),U=Object(H.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},selectionHeader:{marginTop:"40px"}}}))(J),M=a(79),G=a.n(M),K=a(184),X=a(188);function V(e){return r.a.createElement(K.a,Object.assign({elevation:6,variant:"filled"},e))}var Q=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(I.a)(this,Object(F.a)(t).call(this,e))).state={target:e.target,features:e.features,error:"",open:!1},a.buildNetwork=a.buildNetwork.bind(Object(A.a)(a)),a.validateFeatures=a.validateFeatures.bind(Object(A.a)(a)),a.validateTarget=a.validateTarget.bind(Object(A.a)(a)),a.handleClose=a.handleClose.bind(Object(A.a)(a)),a}return Object(W.a)(t,e),Object(T.a)(t,[{key:"handleClose",value:function(){this.setState({open:!1,error:""})}},{key:"validateTarget",value:function(){return""!==this.state.target?{success:!0,error:""}:{success:!1,error:"There must be a target selected."}}},{key:"validateFeatures",value:function(){return this.state.features.length>=1?this.state.features.includes(this.state.target)?{success:!1,error:"Prediction targets cannot be a feature."}:{success:!0,error:""}:{success:!1,error:"There must be at least one feature to predict the target from."}}},{key:"buildNetwork",value:function(){var e=this.validateFeatures(),t=this.validateTarget();if(e.success)if(t.success){this.setState({open:!1,error:""});var a=new XMLHttpRequest;a.open("POST","http://127.0.0.1:8080/datasets/params"),a.setRequestHeader("Content-Type","application/json"),a.send(JSON.stringify({features:this.state.features,target:this.state.target})),a.addEventListener("load",(function(){if(200===a.status)JSON.parse(a.response).headers}))}else this.setState({error:t.error,open:!0});else this.setState({open:!0,error:e.error})}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement("h3",{className:e.sectionHeader},"Train"),r.a.createElement("br",null),r.a.createElement(w.a,{startIcon:r.a.createElement(G.a,null),variant:"contained",color:"primary",disableElevation:!0,onClick:this.buildNetwork},"Build neural network"),r.a.createElement(X.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},autoHideDuration:6e3,open:this.state.open,onClose:this.handleClose},r.a.createElement(V,{severity:"error"},this.state.error)))}}]),t}(n.Component),Z=Object(H.a)((function(e){return{sectionHeader:{marginTop:"40px"},root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}))(Q),$=Object(i.a)((function(e){return{dropboxButton:{marginTop:"20px"},chip:{marginTop:"10px"}}}));function Y(e){var t=$(),a=Object(n.useState)("No file selected"),o=Object(s.a)(a,2),l=o[0],i=o[1],c=Object(n.useState)(""),u=Object(s.a)(c,2),m=(u[0],u[1]),d=Object(n.useState)([]),p=Object(s.a)(d,2),h=p[0],f=p[1],b=Object(n.useState)([]),g=Object(s.a)(b,2),E=g[0],v=g[1],O=Object(n.useState)(""),j=Object(s.a)(O,2),y=j[0],S=j[1];e.user;function C(e){S(e),console.log(e)}function N(e){v(e),console.log(e)}function T(e){console.log(e)}return r.a.createElement("div",null,r.a.createElement("h1",null,"Let's get started"),r.a.createElement("span",null,"First, you'll need to prepare a dataset. ",r.a.createElement("a",{href:"http://www.astrum.ai"},"Click here")," to check out how your data needs to be prepared before being uploaded to Dropbox."),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(w.a,{startIcon:r.a.createElement(k.a,null),variant:"outlined",color:"primary",onClick:function(){var e=document.createElement("script");e.setAttribute("data-app-key","z5p9y3pr6ufqsbh"),e.src="https://www.dropbox.com/static/api/2/dropins.js",e.id="dropboxjs",e.type="text/javascript",document.head.appendChild(e),console.log("clicked");var t={success:function(e){var t=e[0].name;m(e[0].link),i(t),function(e){var t=new XMLHttpRequest;t.open("POST","http://127.0.0.1:8080/datasets"),t.setRequestHeader("Content-Type","application/json"),t.send(JSON.stringify({link:e})),t.addEventListener("load",(function(){if(200===t.status){var e=JSON.parse(t.response).headers;f(e),v(e)}}))}(e[0].link)},cancel:function(){},linkType:"direct",multiselect:!1,folderselect:!1,extensions:[".csv"]};e.onerror=function(){console.log("Err")},e.onload=function(){window.Dropbox.choose(t)},window.Dropbox&&(console.log("Trying to open picker"),window.Dropbox.choose(t))},className:t.dropboxButton},"Connect to dropbox"),r.a.createElement("br",null),r.a.createElement(x.a,{className:t.chip,label:l,onDelete:function(){i("No file selected"),m(""),f([]),v([]),S("")},color:"primary"}),r.a.createElement("br",null),r.a.createElement((function(){return h.length>0?r.a.createElement("div",null,r.a.createElement(B,{features:E,onSelection:N}),r.a.createElement("br",null),r.a.createElement(U,{target:y,features:h,onSelection:C}),r.a.createElement("br",null),r.a.createElement(Z,{target:y,features:E,onBuild:T})):null}),null)))}var _=Object(i.a)((function(e){return{root:{display:"flex"},appBar:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,zIndex:e.zIndex.drawer+1},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},toolbar:e.mixins.toolbar,content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:e.spacing(3),paddingTop:"10px"}}}));function ee(e){var t=_(),a=e.user,n=e.firebase;return r.a.createElement("div",{className:t.root},r.a.createElement(u.a,null),r.a.createElement(m.a,{position:"fixed",className:t.appBar}),r.a.createElement(c.a,{className:t.drawer,variant:"permanent",classes:{paper:t.drawerPaper},anchor:"left"},r.a.createElement("div",{className:t.toolbar}),r.a.createElement(f.a,null),r.a.createElement(d.a,null,r.a.createElement(b.a,{button:!0,key:"new"},r.a.createElement(g.a,null,r.a.createElement(O.a,null)),r.a.createElement(E.a,{primary:"New model"})),r.a.createElement(b.a,{button:!0,key:"list"},r.a.createElement(g.a,null,r.a.createElement(h.a,null)),r.a.createElement(E.a,{primary:"All models"})),r.a.createElement(b.a,{button:!0,key:"settings"},r.a.createElement(g.a,null,r.a.createElement(y.a,null)),r.a.createElement(E.a,{primary:"Settings"})),r.a.createElement(b.a,{button:!0,onClick:function(){n.signOut()},key:"signout"},r.a.createElement(g.a,null,r.a.createElement(y.a,null)),r.a.createElement(E.a,{primary:"Log out"})))),r.a.createElement("main",{className:t.content},r.a.createElement(Y,{user:a})))}var te=a(85),ae=a(182),ne=a(191),re=a(189),oe=a(179),le=a(185),se=a(181),ie=a(180),ce=a(84),ue=a.n(ce),me=a(48),de=a(178),pe=a(34),he=Object(i.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function fe(e){var t=he(),a=Object(n.useState)(""),o=Object(s.a)(a,2),l=o[0],i=o[1],c=Object(n.useState)(""),m=Object(s.a)(c,2),d=m[0],p=m[1],h=Object(pe.g)();return Object(n.useEffect)((function(){e.firebase.auth.onAuthStateChanged((function(t,a){t?(e.onSignIn(t),h.push("/dashboard")):(console.log(t,a),e.onSignIn(""),h.replace("/"))}))}),[]),r.a.createElement(de.a,{component:"main",maxWidth:"xs"},r.a.createElement(u.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(ne.a,{className:t.avatar},r.a.createElement(ue.a,null)),r.a.createElement(me.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),console.log(l,d,e.firebase),e.firebase.signIn(l,d).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},className:t.form,noValidate:!0},r.a.createElement(re.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){return i(e.target.value)}}),r.a.createElement(re.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return p(e.target.value)}}),r.a.createElement(oe.a,{control:r.a.createElement(le.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(w.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Sign In"),r.a.createElement(ie.a,{container:!0},r.a.createElement(ie.a,{item:!0,xs:!0},r.a.createElement(se.a,{href:"#",variant:"body2"},"Forgot password?")),r.a.createElement(ie.a,{item:!0},r.a.createElement(se.a,{href:"#",variant:"body2"},"Don't have an account? Sign Up"))))))}var be=r.a.createContext(null),ge=a(70),Ee=a.n(ge),ve=(a(116),{apiKey:"AIzaSyAI6jdiSr92SVzXL0AwGKgdl9vf1n6O3xE",authDomain:"astrumdashboard.firebaseapp.com",databaseURL:"https://astrumdashboard.firebaseio.com",projectId:"astrumdashboard",storageBucket:"astrumdashboard.appspot.com",messagingSenderId:"454472899112",appId:"1:454472899112:web:4682681794e9e7de5c331d",measurementId:"G-KS2TFQMTZJ"}),Oe=function e(){var t=this;Object(N.a)(this,e),this.createAccount=function(e,a){return t.auth.createUserWithEmailAndPassword(e,a)},this.signIn=function(e,a){return t.auth.signInWithEmailAndPassword(e,a)},this.signOut=function(){return t.auth.signOut()},Ee.a.initializeApp(ve),this.auth=Ee.a.auth()},je=a(66),ye=Object(te.a)({typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),fontSize:14,fontWeightLight:300,fontWeightRegular:400,fontWeightMedium:500}});var we=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],o=t[1];function l(e){o(e)}return r.a.createElement(ae.a,{theme:ye},r.a.createElement(je.a,null,r.a.createElement(pe.d,null,r.a.createElement(pe.b,{exact:!0,path:"/"},r.a.createElement(be.Consumer,null,(function(e){return r.a.createElement(fe,{onSignIn:l,firebase:e})}))),r.a.createElement(pe.b,{path:"/dashboard",render:function(){return a?r.a.createElement(be.Consumer,null,(function(e){return r.a.createElement(ee,{user:a,firebase:e})})):r.a.createElement(pe.a,{to:"/"})}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(be.Provider,{value:new Oe},r.a.createElement(we,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},99:function(e,t,a){e.exports=a(118)}},[[99,1,2]]]);
//# sourceMappingURL=main.e836ab6f.chunk.js.map