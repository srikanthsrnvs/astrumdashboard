{"ast":null,"code":"var _jsxFileName = \"/home/srikanth/Documents/astrum_dashboard/dashboard/src/components/fileDropper.js\";\nimport React, { useMemo, useCallback, useReducer, useState } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport Chip from '@material-ui/core/Chip';\nimport { CircularProgress } from '@material-ui/core';\nconst baseStyle = {\n  flex: 1,\n  display: 'flex',\n  flexDirection: 'column',\n  alignItems: 'center',\n  padding: '20px',\n  borderWidth: 2,\n  borderRadius: 2,\n  borderColor: '#eeeeee',\n  borderStyle: 'dashed',\n  backgroundColor: '#fafafa',\n  color: '#bdbdbd',\n  outline: 'none',\n  transition: 'border .24s ease-in-out',\n  marginTop: 20\n};\nconst activeStyle = {\n  borderColor: '#2196f3'\n};\nconst chipStyle = {\n  marginTop: '10px',\n  marginRight: '5px'\n};\nconst acceptStyle = {\n  borderColor: '#00e676'\n};\nconst rejectStyle = {\n  borderColor: '#ff1744'\n};\nexport default function FileDropper(props) {\n  const [files, setFiles] = useReducer((files, {\n    type,\n    value\n  }) => {\n    switch (type) {\n      case \"add\":\n        return [...files, value];\n\n      case \"remove\":\n        return files.filter((_, index) => index !== value);\n\n      default:\n        return files;\n    }\n  }, []);\n  const onDrop = useCallback(acceptedFiles => {\n    acceptedFiles.forEach(file => {\n      const reader = new FileReader();\n\n      reader.onabort = () => console.log('file reading was aborted');\n\n      reader.onerror = () => console.log('file reading has failed');\n\n      reader.onload = () => {\n        // Do whatever you want with the file contents\n        const binaryStr = reader.result;\n        console.log(binaryStr);\n      };\n\n      reader.readAsArrayBuffer(file);\n      setFiles({\n        type: \"add\",\n        value: file\n      }); // firebase.upload_file(file, user).then(function(snapshot){\n      //     snapshot.ref.getDownloadURL().then(function(url){\n      //         var fileName = file.name\n      //         const newFile = {\n      //             name: fileName,\n      //             metadata: snapshot.metadata,\n      //             link: url\n      //         }\n      //         setShowLoader(false)\n      //     })\n      // })\n    });\n  }, []);\n  const {\n    getRootProps,\n    getInputProps,\n    isDragActive,\n    isDragAccept,\n    isDragReject\n  } = useDropzone({\n    accept: '.zip',\n    onDrop\n  });\n\n  const FileChips = () => {\n    props.setFilesAction(files);\n    var chips = [];\n\n    for (var i = 0; i < files.length; i++) {\n      chips.push(React.createElement(Chip, {\n        variant: \"default\",\n        onDelete: () => setFiles({\n          type: 'remove',\n          value: i\n        }),\n        style: chipStyle,\n        key: files[i].name,\n        label: files[i].name.split('.').slice(0, -1).join('.'),\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }));\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, chips);\n  };\n\n  const style = useMemo(() => ({ ...baseStyle,\n    ...(isDragActive ? activeStyle : {}),\n    ...(isDragAccept ? acceptStyle : {}),\n    ...(isDragReject ? rejectStyle : {})\n  }), [isDragActive, isDragReject]);\n  return React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, React.createElement(\"div\", Object.assign({}, getRootProps({\n    style\n  }), {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }), React.createElement(\"input\", Object.assign({}, getInputProps(), {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  })), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, \"Drop your .zip file here or click to select a file to upload\")), React.createElement(FileChips, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }));\n}","map":{"version":3,"sources":["/home/srikanth/Documents/astrum_dashboard/dashboard/src/components/fileDropper.js"],"names":["React","useMemo","useCallback","useReducer","useState","useDropzone","Chip","CircularProgress","baseStyle","flex","display","flexDirection","alignItems","padding","borderWidth","borderRadius","borderColor","borderStyle","backgroundColor","color","outline","transition","marginTop","activeStyle","chipStyle","marginRight","acceptStyle","rejectStyle","FileDropper","props","files","setFiles","type","value","filter","_","index","onDrop","acceptedFiles","forEach","file","reader","FileReader","onabort","console","log","onerror","onload","binaryStr","result","readAsArrayBuffer","getRootProps","getInputProps","isDragActive","isDragAccept","isDragReject","accept","FileChips","setFilesAction","chips","i","length","push","name","split","slice","join","style"],"mappings":"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","sourcesContent":["import React, {useMemo, useCallback, useReducer, useState} from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport Chip from '@material-ui/core/Chip'\nimport { CircularProgress } from '@material-ui/core';\n\nconst baseStyle = {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    padding: '20px',\n    borderWidth: 2,\n    borderRadius: 2,\n    borderColor: '#eeeeee',\n    borderStyle: 'dashed',\n    backgroundColor: '#fafafa',\n    color: '#bdbdbd',\n    outline: 'none',\n    transition: 'border .24s ease-in-out',\n    marginTop: 20\n};\n\nconst activeStyle = {\n    borderColor: '#2196f3'\n};\n\nconst chipStyle = {\n    marginTop: '10px',\n    marginRight: '5px'\n}\n\nconst acceptStyle = {\n    borderColor: '#00e676'\n};\n\nconst rejectStyle = {\n    borderColor: '#ff1744'\n};\n\nexport default function FileDropper(props) {\n\n    const [files, setFiles] = useReducer((files, { type, value }) => {\n        switch (type) {\n          case \"add\":\n            return [...files, value];\n          case \"remove\":\n            return files.filter((_, index) => index !== value);\n          default:\n            return files;\n        }\n      }, []);\n\n    const onDrop = useCallback((acceptedFiles) => {\n        acceptedFiles.forEach((file) => {\n            const reader = new FileReader()\n            reader.onabort = () => console.log('file reading was aborted')\n            reader.onerror = () => console.log('file reading has failed')\n            reader.onload = () => {\n                // Do whatever you want with the file contents\n                const binaryStr = reader.result\n                console.log(binaryStr)\n            }\n            reader.readAsArrayBuffer(file)\n            setFiles({ type: \"add\", value: file})\n            // firebase.upload_file(file, user).then(function(snapshot){\n            //     snapshot.ref.getDownloadURL().then(function(url){\n            //         var fileName = file.name\n            //         const newFile = {\n            //             name: fileName,\n            //             metadata: snapshot.metadata,\n            //             link: url\n            //         }\n                    \n            //         setShowLoader(false)\n            //     })\n            // })\n        })\n    }, [])\n\n    const {\n        getRootProps,\n        getInputProps,\n        isDragActive,\n        isDragAccept,\n        isDragReject\n    } = useDropzone({accept: '.zip', onDrop});\n\n    const FileChips = () => {\n        props.setFilesAction(files)\n        var chips = []\n        for (var i=0; i<files.length; i++){\n            chips.push(<Chip variant='default' onDelete={() => setFiles({type: 'remove', value: i})} style={chipStyle} key={files[i].name} label={files[i].name.split('.').slice(0, -1).join('.')} color='primary'></Chip>)\n        }\n        return (\n            <div>\n                {chips}\n            </div>\n        )\n    }\n\n    const style = useMemo(() => ({\n        ...baseStyle,\n        ...(isDragActive ? activeStyle : {}),\n        ...(isDragAccept ? acceptStyle : {}),\n        ...(isDragReject ? rejectStyle : {})\n    }), [\n        isDragActive,\n        isDragReject\n    ]);\n\n    return (\n        <div className=\"container\">\n            <div {...getRootProps({ style })}>\n                <input {...getInputProps()} />\n                <p>Drop your .zip file here or click to select a file to upload</p>\n            </div>\n            <FileChips />\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}