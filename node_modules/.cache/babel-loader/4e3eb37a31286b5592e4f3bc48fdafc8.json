{"ast":null,"code":"import app from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/database';\nimport 'firebase/storage';\nconst firebaseConfig = {\n  apiKey: \"AIzaSyAI6jdiSr92SVzXL0AwGKgdl9vf1n6O3xE\",\n  authDomain: \"astrumdashboard.firebaseapp.com\",\n  databaseURL: \"https://astrumdashboard.firebaseio.com\",\n  projectId: \"astrumdashboard\",\n  storageBucket: \"astrumdashboard.appspot.com\",\n  messagingSenderId: \"454472899112\",\n  appId: \"1:454472899112:web:4682681794e9e7de5c331d\",\n  measurementId: \"G-KS2TFQMTZJ\"\n};\n\nclass Firebase {\n  constructor() {\n    this.createAccount = (email, password) => {\n      return this.auth.createUserWithEmailAndPassword(email, password);\n    };\n\n    this.signIn = (email, password) => {\n      return this.auth.signInWithEmailAndPassword(email, password);\n    };\n\n    this.signOut = () => {\n      return this.auth.signOut();\n    };\n\n    this.setListenerOnUserData = user => {\n      return this.db.ref(`/`);\n    };\n\n    this.get_user_data = (user, callback) => {\n      this.db.ref(`/users/${user.uid}`).on('value', function (snapshot) {\n        console.log(\"Retrieved user information\");\n        callback(snapshot);\n      });\n    };\n\n    this.getDownloadURL = function (folderID) {\n      return this.storage.ref('datasets').child(folderID).getDownloadURL();\n    };\n\n    this.upload_files = function (files, user, folderID) {\n      uploads = [];\n      files.forEach(file => {\n        const className = file.name.split('.').slice(0, -1).join('.');\n        const metadata = {\n          class_name: className,\n          uploaded_by: user.uid,\n          uploaded_at: Math.floor(new Date() / 1000)\n        };\n        uploads.push(this.storage.ref(`datasets`).child(folderID).child(className).put(file, metadata));\n      });\n      return Promise.all(uploads);\n    };\n\n    app.initializeApp(firebaseConfig);\n    this.auth = app.auth();\n    this.db = app.database();\n    this.storage = app.storage();\n  }\n\n}\n\nexport default Firebase;","map":{"version":3,"sources":["/home/srikanth/Documents/astrum_dashboard/dashboard/src/components/Firebase/firebase.js"],"names":["app","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","Firebase","constructor","createAccount","email","password","auth","createUserWithEmailAndPassword","signIn","signInWithEmailAndPassword","signOut","setListenerOnUserData","user","db","ref","get_user_data","callback","uid","on","snapshot","console","log","getDownloadURL","folderID","storage","child","upload_files","files","uploads","forEach","file","className","name","split","slice","join","metadata","class_name","uploaded_by","uploaded_at","Math","floor","Date","push","put","Promise","all","initializeApp","database"],"mappings":"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","sourcesContent":["import app from 'firebase/app'\nimport 'firebase/auth'\nimport 'firebase/database'\nimport 'firebase/storage'\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyAI6jdiSr92SVzXL0AwGKgdl9vf1n6O3xE\",\n    authDomain: \"astrumdashboard.firebaseapp.com\",\n    databaseURL: \"https://astrumdashboard.firebaseio.com\",\n    projectId: \"astrumdashboard\",\n    storageBucket: \"astrumdashboard.appspot.com\",\n    messagingSenderId: \"454472899112\",\n    appId: \"1:454472899112:web:4682681794e9e7de5c331d\",\n    measurementId: \"G-KS2TFQMTZJ\"\n};\n\nclass Firebase{\n\n    constructor(){\n        app.initializeApp(firebaseConfig);\n        this.auth = app.auth()\n        this.db = app.database()\n        this.storage = app.storage()\n    }\n\n    createAccount = (email, password) => {\n        return this.auth.createUserWithEmailAndPassword(email, password)\n    }\n\n    signIn = (email, password) => {\n        return this.auth.signInWithEmailAndPassword(email, password)\n    }\n\n    signOut = () => {\n        return this.auth.signOut()\n    }\n\n    setListenerOnUserData = (user) => {\n        return this.db.ref(`/`)\n    }\n\n    get_user_data = (user, callback) => {\n        this.db.ref(`/users/${user.uid}`).on('value', function(snapshot){\n            console.log(\"Retrieved user information\")\n            callback(snapshot)\n        })\n    }\n\n    getDownloadURL = function(folderID){\n        return this.storage.ref('datasets').child(folderID).getDownloadURL()\n    }\n\n    upload_files = function(files, user, folderID){\n        uploads = []\n        files.forEach(file => {\n            const className = file.name.split('.').slice(0, -1).join('.')\n            const metadata = {class_name: className, uploaded_by: user.uid, uploaded_at: Math.floor(new Date()/1000)}\n            uploads.push(\n                this.storage.ref(`datasets`).child(folderID).child(className).put(file, metadata)\n            )\n        });\n        return Promise.all(uploads)\n    }\n}\n\nexport default Firebase;"]},"metadata":{},"sourceType":"module"}