{"ast":null,"code":"var _jsxFileName = \"/home/srikanth/Documents/astrum_dashboard/src/components/fileDropper.js\";\nimport React, { useMemo, useCallback, useReducer, useState } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport Chip from '@material-ui/core/Chip';\nimport { CircularProgress, Button, Snackbar, SnackbarContent } from '@material-ui/core';\nconst baseStyle = {\n  flex: 1,\n  display: 'flex',\n  flexDirection: 'column',\n  alignItems: 'center',\n  padding: '20px',\n  borderWidth: 2,\n  borderRadius: 2,\n  borderColor: '#eeeeee',\n  borderStyle: 'dashed',\n  backgroundColor: '#fafafa',\n  color: '#bdbdbd',\n  outline: 'none',\n  transition: 'border .24s ease-in-out',\n  marginTop: 20\n};\nconst activeStyle = {\n  borderColor: '#2196f3'\n};\nconst chipStyle = {\n  marginTop: '10px',\n  marginRight: '5px'\n};\nconst acceptStyle = {\n  borderColor: '#00e676'\n};\nconst rejectStyle = {\n  borderColor: '#ff1744'\n};\nexport default function FileDropper(props) {\n  const firebase = props.firebase;\n  const user = props.user;\n  const [showLoader, setShowLoader] = useState(false);\n  const allowedTypes = props.allowedTypes;\n  const maxSize = 20 * 1048576;\n  const [isFileTooLarge, setFileTooLarge] = useState(false);\n  const [file, setFile] = useState({\n    name: \"\",\n    metadata: \"\",\n    link: \"\"\n  });\n  const onDrop = useCallback((acceptedFiles, rejectedFiles) => {\n    acceptedFiles.forEach(file => {\n      setShowLoader(true);\n      const reader = new FileReader();\n\n      reader.onabort = () => console.log('file reading was aborted');\n\n      reader.onerror = () => console.log('file reading has failed');\n\n      reader.onload = () => {\n        // Do whatever you want with the file contents\n        const binaryStr = reader.result;\n        console.log(binaryStr);\n      };\n\n      reader.readAsArrayBuffer(file);\n      firebase.upload_file(file, user).then(function (snapshot) {\n        snapshot.ref.getDownloadURL().then(function (url) {\n          var fileName = file.name;\n          setFile({ ...file,\n            name: fileName,\n            metadata: snapshot.metadata,\n            link: url\n          });\n          setShowLoader(false);\n        });\n      });\n    });\n    rejectedFiles.forEach(file => {\n      if (file.size > maxSize) {\n        setFileTooLarge(true);\n      }\n    });\n  }, []);\n  const {\n    getRootProps,\n    getInputProps,\n    isDragActive,\n    isDragAccept,\n    isDragReject\n  } = useDropzone({\n    accept: '.zip',\n    onDrop,\n    maxSize: maxSize\n  });\n\n  const FileChips = () => {\n    props.setFile(file);\n\n    if (file.name !== \"\") {\n      return React.createElement(Chip, {\n        onDelete: setFile({ ...file,\n          'name': \"\",\n          'metadata': \"\",\n          'link': \"\"\n        }),\n        style: chipStyle,\n        key: file.name,\n        label: file.name.split('.').slice(0, -1).join('.'),\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      });\n    } else {\n      return null;\n    }\n  };\n\n  const ShowDropbox = () => {\n    if (isFileTooLarge) {\n      return React.createElement(\"div\", {\n        style: {\n          marginTop: 40\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \"Your file seems to be larger than 100mb, upload it from Dropbox instead\"), React.createElement(Button, {\n        color: \"primary\",\n        variant: \"contained\",\n        onClick: connectToDropbox,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \"Connect to dropbox\"));\n    } else {\n      return null;\n    }\n  };\n\n  function connectToDropbox() {\n    var script = document.createElement('script');\n    script.setAttribute('data-app-key', 'z5p9y3pr6ufqsbh');\n    script.src = \"https://www.dropbox.com/static/api/2/dropins.js\";\n    script.id = \"dropboxjs\";\n    script.type = \"text/javascript\";\n    document.head.appendChild(script);\n    console.log(\"clicked\");\n    var options = {\n      // Required. Called when a user selects an item in the Chooser.\n      success: function (file) {\n        var filename = file[0].name;\n        var link = file[0].link;\n        var metadata = {};\n        setFile({ ...file,\n          name: filename,\n          link: link,\n          metadata: metadata\n        });\n      },\n      cancel: function () {},\n      linkType: \"direct\",\n      // or \"direct\"\n      multiselect: false,\n      // or true\n      folderselect: false,\n      // or true\n      extensions: ['.zip']\n    };\n\n    script.onerror = function () {\n      console.log(\"Err\");\n    };\n\n    script.onload = function () {\n      window.Dropbox.choose(options);\n    };\n\n    if (window.Dropbox) {\n      console.log(\"Trying to open picker\");\n      window.Dropbox.choose(options);\n    }\n  }\n\n  const ShowLoader = () => {\n    return showLoader ? React.createElement(CircularProgress, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }) : null;\n  };\n\n  const style = useMemo(() => ({ ...baseStyle,\n    ...(isDragActive ? activeStyle : {}),\n    ...(isDragAccept ? acceptStyle : {}),\n    ...(isDragReject ? rejectStyle : {})\n  }), [isDragActive, isDragReject]);\n  return React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173\n    },\n    __self: this\n  }, React.createElement(\"div\", Object.assign({}, getRootProps({\n    style\n  }), {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  }), React.createElement(\"input\", Object.assign({}, getInputProps(), {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  })), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  }, \"Drop your .zip file here or click to select a file to upload\"), React.createElement(ShowLoader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  })), React.createElement(ShowDropbox, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180\n    },\n    __self: this\n  }, React.createElement(FileChips, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  })), React.createElement(Snackbar, {\n    open: isFileTooLarge,\n    autoHideDuration: 6000,\n    anchorOrigin: {\n      'horizontal': \"right\",\n      'vertical': \"bottom\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183\n    },\n    __self: this\n  }, React.createElement(SnackbarContent, {\n    message: \"Your file is too large. Please use Dropbox instead\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184\n    },\n    __self: this\n  })));\n}","map":{"version":3,"sources":["/home/srikanth/Documents/astrum_dashboard/src/components/fileDropper.js"],"names":["React","useMemo","useCallback","useReducer","useState","useDropzone","Chip","CircularProgress","Button","Snackbar","SnackbarContent","baseStyle","flex","display","flexDirection","alignItems","padding","borderWidth","borderRadius","borderColor","borderStyle","backgroundColor","color","outline","transition","marginTop","activeStyle","chipStyle","marginRight","acceptStyle","rejectStyle","FileDropper","props","firebase","user","showLoader","setShowLoader","allowedTypes","maxSize","isFileTooLarge","setFileTooLarge","file","setFile","name","metadata","link","onDrop","acceptedFiles","rejectedFiles","forEach","reader","FileReader","onabort","console","log","onerror","onload","binaryStr","result","readAsArrayBuffer","upload_file","then","snapshot","ref","getDownloadURL","url","fileName","size","getRootProps","getInputProps","isDragActive","isDragAccept","isDragReject","accept","FileChips","split","slice","join","ShowDropbox","connectToDropbox","script","document","createElement","setAttribute","src","id","type","head","appendChild","options","success","filename","cancel","linkType","multiselect","folderselect","extensions","window","Dropbox","choose","ShowLoader","style"],"mappings":"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","sourcesContent":["import React, { useMemo, useCallback, useReducer, useState } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport Chip from '@material-ui/core/Chip'\nimport { CircularProgress, Button, Snackbar, SnackbarContent } from '@material-ui/core';\n\nconst baseStyle = {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    padding: '20px',\n    borderWidth: 2,\n    borderRadius: 2,\n    borderColor: '#eeeeee',\n    borderStyle: 'dashed',\n    backgroundColor: '#fafafa',\n    color: '#bdbdbd',\n    outline: 'none',\n    transition: 'border .24s ease-in-out',\n    marginTop: 20\n};\n\nconst activeStyle = {\n    borderColor: '#2196f3'\n};\n\nconst chipStyle = {\n    marginTop: '10px',\n    marginRight: '5px'\n}\n\nconst acceptStyle = {\n    borderColor: '#00e676'\n};\n\nconst rejectStyle = {\n    borderColor: '#ff1744'\n};\n\nexport default function FileDropper(props) {\n\n    const firebase = props.firebase;\n    const user = props.user;\n    const [showLoader, setShowLoader] = useState(false)\n    const allowedTypes = props.allowedTypes\n    const maxSize = 20 * 1048576\n    const [isFileTooLarge, setFileTooLarge] = useState(false)\n    const [file, setFile] = useState({\n        name: \"\",\n        metadata: \"\",\n        link: \"\"\n    })\n\n    const onDrop = useCallback((acceptedFiles, rejectedFiles) => {\n        acceptedFiles.forEach((file) => {\n\n            setShowLoader(true)\n            const reader = new FileReader()\n            reader.onabort = () => console.log('file reading was aborted')\n            reader.onerror = () => console.log('file reading has failed')\n            reader.onload = () => {\n                // Do whatever you want with the file contents\n                const binaryStr = reader.result\n                console.log(binaryStr)\n            }\n            reader.readAsArrayBuffer(file)\n            firebase.upload_file(file, user).then(function (snapshot) {\n                snapshot.ref.getDownloadURL().then(function (url) {\n                    var fileName = file.name\n                    setFile({ ...file, name: fileName, metadata: snapshot.metadata, link: url })\n                    setShowLoader(false)\n                })\n            })\n        })\n        rejectedFiles.forEach((file) => {\n            if (file.size > maxSize) {\n                setFileTooLarge(true)\n            }\n        })\n    }, [])\n\n    const {\n        getRootProps,\n        getInputProps,\n        isDragActive,\n        isDragAccept,\n        isDragReject,\n    } = useDropzone({ accept: '.zip', onDrop, maxSize: maxSize });\n\n    const FileChips = () => {\n        props.setFile(file)\n        if (file.name !== \"\") {\n            return (\n                <Chip onDelete={setFile({...file, 'name': \"\", 'metadata': \"\", 'link': \"\"})} style={chipStyle} key={file.name} label={file.name.split('.').slice(0, -1).join('.')} color='primary'></Chip>\n            )\n        }\n        else {\n            return (null)\n        }\n    }\n\n    const ShowDropbox = () => {\n        if (isFileTooLarge) {\n            return (\n                <div style={{ marginTop: 40 }}>\n                    <h4>Your file seems to be larger than 100mb, upload it from Dropbox instead</h4>\n                    <Button color='primary' variant='contained' onClick={connectToDropbox}>\n                        Connect to dropbox\n                </Button>\n                </div>\n            )\n        }\n        else{\n            return null\n        }\n    }\n\n    function connectToDropbox() {\n\n        var script = document.createElement('script')\n        script.setAttribute('data-app-key', 'z5p9y3pr6ufqsbh')\n        script.src = \"https://www.dropbox.com/static/api/2/dropins.js\"\n        script.id = \"dropboxjs\"\n        script.type = \"text/javascript\"\n        document.head.appendChild(script);\n\n        console.log(\"clicked\")\n        var options = {\n\n            // Required. Called when a user selects an item in the Chooser.\n            success: function (file) {\n                var filename = file[0].name\n                var link = file[0].link\n                var metadata = {}\n                setFile({ ...file, name: filename, link: link, metadata: metadata })\n            },\n            cancel: function () {\n\n            },\n            linkType: \"direct\", // or \"direct\"\n            multiselect: false, // or true\n            folderselect: false, // or true\n            extensions: ['.zip']\n        };\n        script.onerror = function () {\n            console.log(\"Err\")\n        }\n        script.onload = function () {\n            window.Dropbox.choose(options)\n        }\n        if (window.Dropbox) {\n            console.log(\"Trying to open picker\")\n            window.Dropbox.choose(options)\n        }\n\n    }\n\n    const ShowLoader = () => {\n        return (showLoader ? (<CircularProgress />) : (null))\n    }\n\n    const style = useMemo(() => ({\n        ...baseStyle,\n        ...(isDragActive ? activeStyle : {}),\n        ...(isDragAccept ? acceptStyle : {}),\n        ...(isDragReject ? rejectStyle : {})\n    }), [\n        isDragActive,\n        isDragReject\n    ]);\n\n    return (\n        <div className=\"container\">\n            <div {...getRootProps({ style })}>\n                <input {...getInputProps()} />\n                <p>Drop your .zip file here or click to select a file to upload</p>\n                <ShowLoader />\n            </div>\n            <ShowDropbox />\n            <div>\n                <FileChips />\n            </div>\n            <Snackbar open={isFileTooLarge} autoHideDuration={6000} anchorOrigin={{ 'horizontal': \"right\", 'vertical': \"bottom\" }}>\n                <SnackbarContent\n                    message={\"Your file is too large. Please use Dropbox instead\"}\n                />\n            </Snackbar>\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}