{"ast":null,"code":"import _classCallCheck from\"/home/srikanth/Documents/astrum_dashboard/dashboard/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/srikanth/Documents/astrum_dashboard/dashboard/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/srikanth/Documents/astrum_dashboard/dashboard/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/srikanth/Documents/astrum_dashboard/dashboard/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/srikanth/Documents/astrum_dashboard/dashboard/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/srikanth/Documents/astrum_dashboard/dashboard/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import Button from'@material-ui/core/Button';import{withStyles}from'@material-ui/core/styles';import BuildIcon from'@material-ui/icons/Build';import MuiAlert from'@material-ui/lab/Alert';import Snackbar from'@material-ui/core/Snackbar';function Alert(props){return React.createElement(MuiAlert,Object.assign({elevation:6,variant:\"filled\"},props));}var styles=function styles(theme){return{sectionHeader:{marginTop:'40px'},root:{width:'100%','& > * + *':{marginTop:theme.spacing(2)}}};};var ParsingContainer=/*#__PURE__*/function(_Component){_inherits(ParsingContainer,_Component);function ParsingContainer(props){var _this;_classCallCheck(this,ParsingContainer);_this=_possibleConstructorReturn(this,_getPrototypeOf(ParsingContainer).call(this,props));_this.state={target:props.target,features:props.features,error:\"\",open:false};_this.buildNetwork=_this.buildNetwork.bind(_assertThisInitialized(_this));_this.validateFeatures=_this.validateFeatures.bind(_assertThisInitialized(_this));_this.validateTarget=_this.validateTarget.bind(_assertThisInitialized(_this));_this.handleClose=_this.handleClose.bind(_assertThisInitialized(_this));return _this;}_createClass(ParsingContainer,[{key:\"handleClose\",value:function handleClose(){this.setState({open:false,error:\"\"});}},{key:\"validateTarget\",value:function validateTarget(){if(this.state.target!==''){return{success:true,error:''};}else{return{success:false,error:'There must be a target selected.'};}}},{key:\"validateFeatures\",value:function validateFeatures(){if(this.state.features.length>=1){if(this.state.features.includes(this.state.target)){return{success:false,error:\"Prediction targets cannot be a feature.\"};}else{return{success:true,error:\"\"};}}else{return{success:false,error:\"There must be at least one feature to predict the target from.\"};}}},{key:\"buildNetwork\",value:function buildNetwork(){var featuresValidated=this.validateFeatures();var targetValidated=this.validateTarget();if(!featuresValidated.success){this.setState({open:true,error:featuresValidated.error});}else if(!targetValidated.success){this.setState({error:targetValidated.error,open:true});}else{this.setState({open:false,error:\"\"});var xhr=new XMLHttpRequest();xhr.open('POST','http://127.0.0.1:8080/datasets/params');xhr.setRequestHeader(\"Content-Type\",\"application/json\");xhr.send(JSON.stringify({\"features\":this.state.features,\"target\":this.state.target}));xhr.addEventListener('load',function(){if(xhr.status===200){var headers=JSON.parse(xhr.response).headers;//TODO\n}});}}},{key:\"render\",value:function render(){var classes=this.props.classes;return React.createElement(\"div\",{className:classes.root},React.createElement(\"h3\",{className:classes.sectionHeader},\"Train\"),React.createElement(\"br\",null),React.createElement(Button,{startIcon:React.createElement(BuildIcon,null),variant:\"contained\",color:\"primary\",disableElevation:true,onClick:this.buildNetwork},\"Build neural network\"),React.createElement(Snackbar,{anchorOrigin:{vertical:'bottom',horizontal:'right'},autoHideDuration:6000,open:this.state.open,onClose:this.handleClose},React.createElement(Alert,{severity:\"error\"},this.state.error)));}}]);return ParsingContainer;}(Component);export default withStyles(styles)(ParsingContainer);","map":{"version":3,"sources":["/home/srikanth/Documents/astrum_dashboard/dashboard/src/components/parsingContainer.js"],"names":["React","Component","Button","withStyles","BuildIcon","MuiAlert","Snackbar","Alert","props","styles","theme","sectionHeader","marginTop","root","width","spacing","ParsingContainer","state","target","features","error","open","buildNetwork","bind","validateFeatures","validateTarget","handleClose","setState","success","length","includes","featuresValidated","targetValidated","xhr","XMLHttpRequest","setRequestHeader","send","JSON","stringify","addEventListener","status","headers","parse","response","classes","vertical","horizontal"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport Button from '@material-ui/core/Button'\nimport {withStyles} from '@material-ui/core/styles'\nimport BuildIcon from '@material-ui/icons/Build'\nimport MuiAlert from '@material-ui/lab/Alert'\nimport Snackbar from '@material-ui/core/Snackbar'\n\n\nfunction Alert(props){\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nconst styles = (theme) => ({\n    sectionHeader: {\n        marginTop: '40px'\n    },\n    root: {\n        width: '100%',\n        '& > * + *': {\n            marginTop: theme.spacing(2),\n        },\n    }\n});\n\n\nclass ParsingContainer extends Component{\n\n    constructor(props){\n        super(props)\n        this.state = {\n            target: props.target,\n            features: props.features,\n            error: \"\",\n            open: false\n        }\n        this.buildNetwork = this.buildNetwork.bind(this)\n        this.validateFeatures = this.validateFeatures.bind(this)\n        this.validateTarget = this.validateTarget.bind(this)\n        this.handleClose = this.handleClose.bind(this)\n    }\n\n    handleClose(){\n        this.setState({open:false, error: \"\"})\n    }\n\n    validateTarget(){\n        if(this.state.target !== ''){\n            return {success: true, error: ''}\n        }else{\n            return {success: false, error: 'There must be a target selected.'}\n        }\n    }\n\n    validateFeatures(){\n        if(this.state.features.length >= 1){\n            if(this.state.features.includes(this.state.target)){\n                return {success: false, error: \"Prediction targets cannot be a feature.\"}\n            }else{\n                return {success: true, error: \"\"}\n            }\n        }else{\n            return {success: false, error: \"There must be at least one feature to predict the target from.\"}\n        }\n    }\n\n    buildNetwork(){\n        var featuresValidated = this.validateFeatures()\n        var targetValidated = this.validateTarget()\n\n        if(!featuresValidated.success){\n            this.setState({open: true, error: featuresValidated.error})\n        }else if (!targetValidated.success){\n            this.setState({error: targetValidated.error, open: true})\n        }else{\n            this.setState({open: false, error: \"\"})\n            var xhr = new XMLHttpRequest()\n            xhr.open('POST', 'http://127.0.0.1:8080/datasets/params')\n            xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n            xhr.send(JSON.stringify({\n                \"features\": this.state.features,\n                \"target\": this.state.target \n            }))\n            xhr.addEventListener('load', () => {\n                if (xhr.status === 200){\n                    var headers = JSON.parse(xhr.response).headers\n                    //TODO\n                }\n            })\n        }\n    }\n\n    render(){\n        const {classes} = this.props;\n        return(\n            <div className={classes.root}>\n                <h3 className={classes.sectionHeader}>Train</h3>\n                <br></br>\n                <Button startIcon={<BuildIcon/>} variant='contained' color='primary' disableElevation onClick={this.buildNetwork}>Build neural network</Button>\n                <Snackbar anchorOrigin={{vertical: 'bottom', horizontal:'right'}} autoHideDuration={6000} open={this.state.open} onClose={this.handleClose}>\n                    <Alert severity='error'>{this.state.error}</Alert>\n                </Snackbar>\n            </div>\n        )\n    }\n}\n\nexport default withStyles(styles)(ParsingContainer)"]},"metadata":{},"sourceType":"module"}